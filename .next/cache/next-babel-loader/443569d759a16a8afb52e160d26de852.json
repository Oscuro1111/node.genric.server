{"ast":null,"code":"import React from \"react\";\nvar __jsx = React.createElement;\nimport Link from \"next/link\";\nimport Master from \"../../app_components/commonHeader\";\nimport { get } from \"http\";\n\nfunction Post({\n  post\n}) {\n  return __jsx(\"div\", {\n    class: \"card mb-4\"\n  }, __jsx(\"img\", {\n    class: \"card-img-top\",\n    src: post.thum,\n    alt: \"Card image cap\"\n  }), __jsx(\"div\", {\n    class: \"card-body\"\n  }, __jsx(\"h2\", {\n    class: \"card-title\"\n  }, post.title), __jsx(\"p\", {\n    class: \"card-text\"\n  }), __jsx(Link, {\n    href: \"/Blog/post/[id].js\",\n    as: `/Blog/post/${post.postId}?thum=${post.thum}&title=${post.title}&author=${post.author}&date=${post.date}`\n  }, __jsx(\"a\", {\n    class: \"btn btn-primary\"\n  }, \"Read More \\u2192\"))), __jsx(\"div\", {\n    class: \"card-footer text-muted\"\n  }, post.date, __jsx(\"hr\", null), __jsx(\"a\", {\n    href: \"#\"\n  }, \"By \", post.author)));\n}\n\nexport default function Home({\n  latest,\n  home\n}) {\n  var ref_ = null;\n  return __jsx(Master, null, __jsx(\"body\", null, __jsx(\"nav\", {\n    class: \"navbar navbar-expand-lg navbar-dark bg-dark fixed-top\"\n  }, __jsx(\"div\", {\n    class: \"container\"\n  }, __jsx(\"a\", {\n    class: \"navbar-brand\",\n    href: \"#\"\n  }, \"Tech-Inventory\"), __jsx(\"button\", {\n    class: \"navbar-toggler\",\n    type: \"button\",\n    \"data-toggle\": \"collapse\",\n    \"data-target\": \"#navbarResponsive\",\n    \"aria-controls\": \"navbarResponsive\",\n    \"aria-expanded\": \"false\",\n    \"aria-label\": \"Toggle navigation\"\n  }, __jsx(\"span\", {\n    class: \"navbar-toggler-icon\"\n  })), __jsx(\"div\", {\n    class: \"collapse navbar-collapse\",\n    id: \"navbarResponsive\"\n  }, __jsx(\"ul\", {\n    class: \"navbar-nav ml-auto\"\n  }, __jsx(\"li\", {\n    class: \"nav-item active\"\n  }, __jsx(\"a\", {\n    class: \"nav-link\",\n    href: \"/\"\n  }, \"Home\", __jsx(\"span\", {\n    class: \"sr-only\"\n  }, \"(current)\"))), __jsx(\"li\", {\n    class: \"nav-item\"\n  }, __jsx(Link, {\n    href: \"/about\"\n  }, __jsx(\"a\", {\n    class: \"nav-link\",\n    href: \"#\"\n  }, \"About\"))))))), __jsx(\"div\", {\n    class: \"container\"\n  }, __jsx(\"div\", {\n    class: \"row\"\n  }, __jsx(\"div\", {\n    class: \"col-md-8\"\n  }, __jsx(\"h1\", {\n    class: \"my-4 \",\n    style: {\n      backgroundColor: \"#a805da\",\n      color: \"white\",\n      padding: \"0.3rem\"\n    }\n  }, \"Search Results\", __jsx(\"small\", null)), home && home.length == 0 && \"No result Found!\", home && home.map((post, index) => __jsx(Post, {\n    key: index,\n    post: post\n  })), __jsx(\"ul\", {\n    class: \"pagination justify-content-center mb-4\"\n  }, __jsx(\"li\", {\n    class: \"page-item\"\n  }, __jsx(\"a\", {\n    class: \"page-link\",\n    href: \"#\"\n  }, \"\\u2190 Older\")), __jsx(\"li\", {\n    class: \"page-item disabled\"\n  }, __jsx(\"a\", {\n    class: \"page-link\",\n    href: \"#\"\n  }, \"Newer \\u2192\")))), __jsx(\"div\", {\n    class: \"col-md-4\"\n  }, __jsx(\"div\", {\n    class: \"card my-4\"\n  }, __jsx(\"h5\", {\n    class: \"card-header\"\n  }, \"Search\"), __jsx(\"div\", {\n    class: \"card-body\"\n  }, __jsx(\"div\", {\n    class: \"input-group\"\n  }, __jsx(\"input\", {\n    type: \"text\",\n    class: \"form-control\",\n    placeholder: \"Search for...\",\n    ref: ref => {\n      ref_ = ref;\n    }\n  }), __jsx(\"span\", {\n    class: \"input-group-append\"\n  }, __jsx(\"button\", {\n    onClick: e => {\n      if (ref_ && ref_.value) {\n        window.location.assign(`/search/${ref_.value}`);\n      }\n    },\n    type: \"submit\",\n    class: \"btn btn-secondary\"\n  }, \"Search\"))))), __jsx(\"div\", {\n    class: \"card my-4\"\n  }, __jsx(\"h5\", {\n    class: \"card-header\"\n  }, \"Latest\"), __jsx(\"div\", {\n    class: \"card-body\"\n  }, __jsx(\"div\", {\n    class: \"row\"\n  }, __jsx(\"div\", {\n    class: \"col-lg-6\"\n  }, __jsx(\"ul\", {\n    class: \"list-unstyled mb-0\"\n  }, latest && latest.map((post, index) => {\n    return __jsx(\"li\", {\n      key: index\n    }, __jsx(Link, {\n      href: \"/Blog/post/[id].js\",\n      as: `/Blog/post/${post.postId}?thum=${post.thum}&title=${post.title}&author=${post.author}&date=${post.date}`\n    }, __jsx(\"a\", null, post.title)));\n  })))))), __jsx(\"div\", {\n    class: \"card my-4\"\n  }, __jsx(\"h5\", {\n    class: \"card-header\"\n  }, \"Side Widget\"), __jsx(\"div\", {\n    class: \"card-body\"\n  }, \"ADS\"))))), __jsx(\"footer\", {\n    class: \"py-5 bg-dark\"\n  }, __jsx(\"div\", {\n    class: \"container\"\n  }, __jsx(\"p\", {\n    class: \"m-0 text-center text-white\"\n  }, \"Copyright \\xA9 Your Website 2020\")))));\n}\n\nfunction fetcher(url) {\n  var data = [];\n  const initFetch = new Promise((resolve, reject) => {\n    get(url, function (res_) {\n      res_.on(\"data\", chunk => {\n        data.push(chunk);\n      });\n      res_.on(\"close\", _ => {\n        var data_Bytes = Buffer.concat(data);\n        var data_json = JSON.parse(data_Bytes.toString());\n        resolve(data_json);\n      });\n    });\n  });\n  return initFetch;\n}\n\nexport async function getServerSideProps(res) {\n  var {\n    pattern\n  } = res.query;\n  const home = await fetcher(\"http://techserver01.herokuapp.com/search/post?pattern=\" + pattern);\n  const latest = await fetcher(\"http://techserver01.herokuapp.com/latestPosts\");\n\n  if (home && home.length !== 0) {\n    return {\n      props: {\n        latest,\n        home\n      }\n    };\n  }\n\n  return {\n    props: {\n      latest,\n      home: []\n    }\n  };\n}","map":null,"metadata":{},"sourceType":"module"}