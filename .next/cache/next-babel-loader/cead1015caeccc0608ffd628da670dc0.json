{"ast":null,"code":"import React from \"react\";\nvar __jsx = React.createElement;\nimport Link from \"next/link\";\nimport Head from \"next/head\";\nimport Master from \"../../../app_components/commonHeader\";\nimport { get } from \"http\";\n\nfunction PostData({\n  data\n}) {\n  //data={type:Buffer,data:[]\n  return __jsx(\"div\", {\n    dangerouslySetInnerHTML: {\n      __html: data\n    }\n  });\n}\n\nexport default function Post({\n  latest,\n  postData,\n  title,\n  thum,\n  date\n}) {\n  console.log(latest, postData);\n  return __jsx(Master, {\n    thum: thum,\n    description: title\n  }, __jsx(Head, null), __jsx(\"body\", null, __jsx(\"nav\", {\n    class: \"navbar navbar-expand-lg navbar-dark bg-dark fixed-top\"\n  }, __jsx(\"div\", {\n    class: \"container\"\n  }, __jsx(\"a\", {\n    class: \"navbar-brand\",\n    href: \"#\"\n  }, \"Tech-Inventory\"), __jsx(\"button\", {\n    class: \"navbar-toggler\",\n    type: \"button\",\n    \"data-toggle\": \"collapse\",\n    \"data-target\": \"#navbarResponsive\",\n    \"aria-controls\": \"navbarResponsive\",\n    \"aria-expanded\": \"false\",\n    \"aria-label\": \"Toggle navigation\"\n  }, __jsx(\"span\", {\n    class: \"navbar-toggler-icon\"\n  })), __jsx(\"div\", {\n    class: \"collapse navbar-collapse\",\n    id: \"navbarResponsive\"\n  }, __jsx(\"ul\", {\n    class: \"navbar-nav ml-auto\"\n  }, __jsx(\"li\", {\n    class: \"nav-item active\"\n  }, __jsx(\"a\", {\n    class: \"nav-link\",\n    href: \"#\"\n  }, \"Home\", __jsx(\"span\", {\n    class: \"sr-only\"\n  }, \"(current)\"))), __jsx(\"li\", {\n    class: \"nav-item\"\n  }, __jsx(Link, {\n    href: \"/about\"\n  }, __jsx(\"a\", {\n    class: \"nav-link\",\n    href: \"#\"\n  }, \"About\"))))))), __jsx(\"div\", {\n    class: \"container\"\n  }, __jsx(\"div\", {\n    class: \"row\"\n  }, __jsx(\"div\", {\n    class: \"col-lg-8\"\n  }, __jsx(\"h1\", {\n    class: \"mt-4\"\n  }, title), __jsx(\"hr\", null), __jsx(\"p\", null, \"Posted on \", date), __jsx(\"hr\", null), __jsx(\"img\", {\n    class: \"img-fluid rounded\",\n    src: thum || \"http://placehold.it/750x300\",\n    alt: \"\"\n  }), __jsx(\"hr\", null), __jsx(PostData, {\n    data: postData\n  })), __jsx(\"div\", {\n    class: \"col-md-4\"\n  }, __jsx(\"div\", {\n    class: \"card my-4\"\n  }, __jsx(\"h5\", {\n    class: \"card-header\"\n  }, \"Search\"), __jsx(\"div\", {\n    class: \"card-body\"\n  }, __jsx(\"div\", {\n    class: \"input-group\"\n  }, __jsx(\"input\", {\n    type: \"text\",\n    class: \"form-control\",\n    placeholder: \"Search for...\"\n  }), __jsx(\"span\", {\n    class: \"input-group-append\"\n  }, __jsx(\"button\", {\n    class: \"btn btn-secondary\",\n    type: \"button\"\n  }, \"Go!\"))))), __jsx(\"div\", {\n    class: \"card my-4\"\n  }, __jsx(\"h5\", {\n    class: \"card-header\"\n  }, \"Latest\"), __jsx(\"div\", {\n    class: \"card-body\"\n  }, __jsx(\"div\", {\n    class: \"row\"\n  }, __jsx(\"div\", {\n    class: \"col-lg-6\"\n  }, __jsx(\"ul\", {\n    class: \"list-unstyled mb-0\"\n  }, latest && latest.map((post, index) => {\n    return __jsx(\"li\", {\n      key: index\n    }, __jsx(Link, {\n      href: \"/Blog/post/[id].js\",\n      as: `/Blog/post/${post.postId}?thum=${post.thum}&title=${post.title}&author=${post.author}&date=${post.date}`\n    }, __jsx(\"a\", null, post.title)));\n  })))))), __jsx(\"div\", {\n    class: \"card my-4\"\n  }, __jsx(\"h5\", {\n    class: \"card-header\"\n  }, \"Side Widget\"), __jsx(\"div\", {\n    class: \"card-body\"\n  }, \"ADS\"))))), __jsx(\"footer\", {\n    class: \"py-5 bg-dark\"\n  }, __jsx(\"div\", {\n    class: \"container\"\n  }, __jsx(\"p\", {\n    class: \"m-0 text-center text-white\"\n  }, \"Copyright \\xA9 Your Website 2020\")))));\n}\n\nfunction fetcher(url, notJSON) {\n  var data = [];\n  const initFetch = new Promise((resolve, reject) => {\n    get(url, function (res_) {\n      res_.on(\"data\", chunk => {\n        data.push(chunk);\n      });\n      res_.on(\"close\", _ => {\n        console.log(\"closing\");\n\n        if (notJSON) {\n          var data_Bytes = Buffer.concat(data);\n          resolve(data_Bytes.toString(\"utf8\"));\n        } else {\n          var data_Bytes = Buffer.concat(data);\n          var data_json = JSON.parse(data_Bytes.toString());\n          resolve(data_json);\n        }\n      });\n    });\n  });\n  return initFetch;\n}\n\nexport async function getServerSideProps(response) {\n  const {\n    id,\n    thum,\n    title,\n    date\n  } = response.query;\n  const postData = await fetcher(\"http://localhost:4000/post/data/\" + `${id}`, true);\n  const latest = await fetcher(\"http://localhost:4000/latestPosts\", false);\n  return {\n    props: {\n      latest,\n      postData,\n      thum,\n      title,\n      date\n    }\n  };\n}","map":{"version":3,"sources":["F:/web.projects/node.server/projects/node.genric.server/pages/Blog/post/[id].js"],"names":["Link","Head","Master","get","PostData","data","__html","Post","latest","postData","title","thum","date","console","log","map","post","index","postId","author","fetcher","url","notJSON","initFetch","Promise","resolve","reject","res_","on","chunk","push","_","data_Bytes","Buffer","concat","toString","data_json","JSON","parse","getServerSideProps","response","id","query","props"],"mappings":"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","sourcesContent":["import Link from \"next/link\";\r\nimport Head from \"next/head\";\r\nimport Master from \"../../../app_components/commonHeader\";\r\nimport { get } from \"http\";\r\n\r\n\r\nfunction PostData({ data }) {\r\n  //data={type:Buffer,data:[]\r\n\r\n  return <div dangerouslySetInnerHTML={{ __html: data }}></div>;\r\n}\r\n\r\nexport default function Post({ latest, postData, title, thum, date }) {\r\n  console.log(latest, postData);\r\n\r\n  return (\r\n    <Master thum={thum} description={title}>\r\n      <Head></Head>\r\n      <body>\r\n        <nav class=\"navbar navbar-expand-lg navbar-dark bg-dark fixed-top\">\r\n          <div class=\"container\">\r\n            <a class=\"navbar-brand\" href=\"#\">\r\n              Tech-Inventory\r\n            </a>\r\n            <button\r\n              class=\"navbar-toggler\"\r\n              type=\"button\"\r\n              data-toggle=\"collapse\"\r\n              data-target=\"#navbarResponsive\"\r\n              aria-controls=\"navbarResponsive\"\r\n              aria-expanded=\"false\"\r\n              aria-label=\"Toggle navigation\"\r\n            >\r\n              <span class=\"navbar-toggler-icon\"></span>\r\n            </button>\r\n            <div class=\"collapse navbar-collapse\" id=\"navbarResponsive\">\r\n              <ul class=\"navbar-nav ml-auto\">\r\n                <li class=\"nav-item active\">\r\n                  <a class=\"nav-link\" href=\"#\">\r\n                    Home\r\n                    <span class=\"sr-only\">(current)</span>\r\n                  </a>\r\n                </li>\r\n                <li class=\"nav-item\">\r\n                  <Link href=\"/about\">\r\n                    <a class=\"nav-link\" href=\"#\">\r\n                      About\r\n                    </a>\r\n                  </Link>\r\n                </li>\r\n              </ul>\r\n            </div>\r\n          </div>\r\n        </nav>\r\n\r\n        <div class=\"container\">\r\n          <div class=\"row\">\r\n            <div class=\"col-lg-8\">\r\n              <h1 class=\"mt-4\">{title}</h1>\r\n\r\n              <hr />\r\n              <p>Posted on {date}</p>\r\n              <hr />\r\n\r\n              <img\r\n                class=\"img-fluid rounded\"\r\n                src={thum || \"http://placehold.it/750x300\"}\r\n                alt=\"\"\r\n              />\r\n              <hr />\r\n              <PostData data={postData} />\r\n            </div>\r\n\r\n            <div class=\"col-md-4\">\r\n              <div class=\"card my-4\">\r\n                <h5 class=\"card-header\">Search</h5>\r\n\r\n                <div class=\"card-body\">\r\n                  <div class=\"input-group\">\r\n                    <input\r\n                      type=\"text\"\r\n                      class=\"form-control\"\r\n                      placeholder=\"Search for...\"\r\n                    />\r\n                    <span class=\"input-group-append\">\r\n                      <button class=\"btn btn-secondary\" type=\"button\">\r\n                        Go!\r\n                      </button>\r\n                    </span>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              <div class=\"card my-4\">\r\n                <h5 class=\"card-header\">Latest</h5>\r\n                <div class=\"card-body\">\r\n                  <div class=\"row\">\r\n                    <div class=\"col-lg-6\">\r\n                      <ul class=\"list-unstyled mb-0\">\r\n                        {latest &&\r\n                          latest.map((post, index) => {\r\n                            return (\r\n                              <li key={index}>\r\n                              <Link\r\n                              href={\"/Blog/post/[id].js\"}\r\n                              as={`/Blog/post/${post.postId}?thum=${post.thum}&title=${post.title}&author=${post.author}&date=${post.date}`}\r\n                               >\r\n                              <a>{post.title}</a>\r\n                            </Link>\r\n                              </li>\r\n                            );\r\n                          })}\r\n                      </ul>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              <div class=\"card my-4\">\r\n                <h5 class=\"card-header\">Side Widget</h5>\r\n                <div class=\"card-body\">\r\n                  \r\n\r\n                  ADS \r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <footer class=\"py-5 bg-dark\">\r\n          <div class=\"container\">\r\n            <p class=\"m-0 text-center text-white\">\r\n              Copyright &copy; Your Website 2020\r\n            </p>\r\n          </div>\r\n        </footer>\r\n      </body>\r\n    </Master>\r\n  );\r\n}\r\n\r\nfunction fetcher(url, notJSON) {\r\n  var data = [];\r\n  const initFetch = new Promise((resolve, reject) => {\r\n    get(url, function (res_) {\r\n      res_.on(\"data\", (chunk) => {\r\n        data.push(chunk);\r\n      });\r\n\r\n      res_.on(\"close\", (_) => {\r\n        console.log(\"closing\");\r\n        if (notJSON) {\r\n          var data_Bytes = Buffer.concat(data);\r\n\r\n          resolve(data_Bytes.toString(\"utf8\"));\r\n        } else {\r\n          var data_Bytes = Buffer.concat(data);\r\n          var data_json = JSON.parse(data_Bytes.toString());\r\n          resolve(data_json);\r\n        }\r\n      });\r\n    });\r\n  });\r\n\r\n  return initFetch;\r\n}\r\n\r\nexport async function getServerSideProps(response) {\r\n  const { id, thum, title, date } = response.query;\r\n\r\n  const postData = await fetcher(\"http://localhost:4000/post/data/\" + `${id}`,true);\r\n  const latest = await fetcher(\"http://localhost:4000/latestPosts\",false);\r\n\r\n  return {\r\n    props: {\r\n      latest,\r\n      postData,\r\n      thum,\r\n      title,\r\n      date,\r\n    },\r\n  };\r\n}\r\n"]},"metadata":{},"sourceType":"module"}