{"ast":null,"code":"import React from \"react\";\nvar __jsx = React.createElement;\nimport Link from \"next/link\";\nimport Master from \"../../app_components/commonHeader\";\nimport { get } from \"http\";\n\nfunction Post({\n  post\n}) {\n  return __jsx(\"div\", {\n    class: \"card mb-4\"\n  }, __jsx(\"img\", {\n    class: \"card-img-top\",\n    src: post.thum,\n    alt: \"Card image cap\"\n  }), __jsx(\"div\", {\n    class: \"card-body\"\n  }, __jsx(\"h2\", {\n    class: \"card-title\"\n  }, post.title), __jsx(\"p\", {\n    class: \"card-text\"\n  }), __jsx(Link, {\n    href: \"/Blog/post/[id].js\",\n    as: `/Blog/post/${post.postId}?thum=${post.thum}&title=${post.title}&author=${post.author}&date=${post.date}`\n  }, __jsx(\"a\", {\n    class: \"btn btn-primary\"\n  }, \"Read More \\u2192\"))), __jsx(\"div\", {\n    class: \"card-footer text-muted\"\n  }, post.date, __jsx(\"a\", {\n    href: \"#\"\n  }, post.author)));\n}\n\nexport default function Home({\n  latest,\n  home\n}) {\n  console.log(latest, home);\n  var ref_ = null;\n  return __jsx(Master, null, __jsx(\"body\", null, __jsx(\"nav\", {\n    class: \"navbar navbar-expand-lg navbar-dark bg-dark fixed-top\"\n  }, __jsx(\"div\", {\n    class: \"container\"\n  }, __jsx(\"a\", {\n    class: \"navbar-brand\",\n    href: \"#\"\n  }, \"Tech-Inventory\"), __jsx(\"button\", {\n    class: \"navbar-toggler\",\n    type: \"button\",\n    \"data-toggle\": \"collapse\",\n    \"data-target\": \"#navbarResponsive\",\n    \"aria-controls\": \"navbarResponsive\",\n    \"aria-expanded\": \"false\",\n    \"aria-label\": \"Toggle navigation\"\n  }, __jsx(\"span\", {\n    class: \"navbar-toggler-icon\"\n  })), __jsx(\"div\", {\n    class: \"collapse navbar-collapse\",\n    id: \"navbarResponsive\"\n  }, __jsx(\"ul\", {\n    class: \"navbar-nav ml-auto\"\n  }, __jsx(\"li\", {\n    class: \"nav-item active\"\n  }, __jsx(\"a\", {\n    class: \"nav-link\",\n    href: \"#\"\n  }, \"Home\", __jsx(\"span\", {\n    class: \"sr-only\"\n  }, \"(current)\"))), __jsx(\"li\", {\n    class: \"nav-item\"\n  }, __jsx(Link, {\n    href: \"/about\"\n  }, __jsx(\"a\", {\n    class: \"nav-link\",\n    href: \"#\"\n  }, \"About\"))))))), __jsx(\"div\", {\n    class: \"container\"\n  }, __jsx(\"div\", {\n    class: \"row\"\n  }, __jsx(\"div\", {\n    class: \"col-md-8\"\n  }, __jsx(\"h1\", {\n    class: \"my-4 \",\n    style: {\n      backgroundColor: \"#a805da\",\n      color: \"white\",\n      padding: \"0.3rem\"\n    }\n  }, \"Blog Posts\", __jsx(\"small\", null)), home && home.length == 0 && \"No result Found!\", home && home.map((post, index) => __jsx(Post, {\n    key: index,\n    post: post\n  })), __jsx(\"ul\", {\n    class: \"pagination justify-content-center mb-4\"\n  }, __jsx(\"li\", {\n    class: \"page-item\"\n  }, __jsx(\"a\", {\n    class: \"page-link\",\n    href: \"#\"\n  }, \"\\u2190 Older\")), __jsx(\"li\", {\n    class: \"page-item disabled\"\n  }, __jsx(\"a\", {\n    class: \"page-link\",\n    href: \"#\"\n  }, \"Newer \\u2192\")))), __jsx(\"div\", {\n    class: \"col-md-4\"\n  }, __jsx(\"div\", {\n    class: \"card my-4\"\n  }, __jsx(\"h5\", {\n    class: \"card-header\"\n  }, \"Search\"), __jsx(\"div\", {\n    class: \"card-body\"\n  }, __jsx(\"div\", {\n    class: \"input-group\"\n  }, __jsx(\"input\", {\n    type: \"text\",\n    class: \"form-control\",\n    placeholder: \"Search for...\",\n    ref: ref => {\n      ref_ = ref;\n    }\n  }), __jsx(\"span\", {\n    class: \"input-group-append\"\n  }, __jsx(\"button\", {\n    onClick: e => {\n      if (ref_ && ref_.value) {\n        window.location.assign(`/search/${ref_.value}`);\n      }\n    },\n    type: \"submit\",\n    class: \"btn btn-secondary\"\n  }, \"Search\"))))), __jsx(\"div\", {\n    class: \"card my-4\"\n  }, __jsx(\"h5\", {\n    class: \"card-header\"\n  }, \"Latest\"), __jsx(\"div\", {\n    class: \"card-body\"\n  }, __jsx(\"div\", {\n    class: \"row\"\n  }, __jsx(\"div\", {\n    class: \"col-lg-6\"\n  }, __jsx(\"ul\", {\n    class: \"list-unstyled mb-0\"\n  }, latest && latest.map((post, index) => {\n    return __jsx(\"li\", {\n      key: index\n    }, __jsx(Link, {\n      href: \"/Blog/post/[id].js\",\n      as: `/Blog/post/${post.postId}?thum=${post.thum}&title=${post.title}&author=${post.author}&date=${post.date}`\n    }, __jsx(\"a\", null, post.title)));\n  })))))), __jsx(\"div\", {\n    class: \"card my-4\"\n  }, __jsx(\"h5\", {\n    class: \"card-header\"\n  }, \"Side Widget\"), __jsx(\"div\", {\n    class: \"card-body\"\n  }, \"ADS\"))))), __jsx(\"footer\", {\n    class: \"py-5 bg-dark\"\n  }, __jsx(\"div\", {\n    class: \"container\"\n  }, __jsx(\"p\", {\n    class: \"m-0 text-center text-white\"\n  }, \"Copyright \\xA9 Your Website 2020\")))));\n}\n\nfunction fetcher(url) {\n  var data = [];\n  const initFetch = new Promise((resolve, reject) => {\n    get(url, function (res_) {\n      res_.on(\"data\", chunk => {\n        data.push(chunk);\n      });\n      res_.on(\"close\", _ => {\n        console.log(\"closing\");\n        var data_Bytes = Buffer.concat(data);\n        var data_json = JSON.parse(data_Bytes.toString());\n        resolve(data_json);\n      });\n    });\n  });\n  return initFetch;\n}\n\nexport async function getServerSideProps(res) {\n  var {\n    pattern\n  } = res.query;\n  const home = await fetcher(\"http://localhost:4000/search/post?pattern=\" + pattern);\n  const latest = await fetcher(\"http://localhost:4000/latestPosts\");\n\n  if (home && home.length !== 0) {\n    return {\n      props: {\n        latest,\n        home\n      }\n    };\n  }\n\n  return {\n    props: {\n      latest,\n      home: []\n    }\n  };\n}","map":{"version":3,"sources":["F:/web.projects/node.server/projects/node.genric.server/pages/search/[pattern].js"],"names":["Link","Master","get","Post","post","thum","title","postId","author","date","Home","latest","home","console","log","ref_","backgroundColor","color","padding","length","map","index","ref","e","value","window","location","assign","fetcher","url","data","initFetch","Promise","resolve","reject","res_","on","chunk","push","_","data_Bytes","Buffer","concat","data_json","JSON","parse","toString","getServerSideProps","res","pattern","query","props"],"mappings":"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","sourcesContent":["import Link from \"next/link\";\r\nimport Master from \"../../app_components/commonHeader\";\r\nimport { get } from \"http\";\r\n\r\nfunction Post({ post }) {\r\n\r\n   \r\n  \r\n  return (\r\n    <div class=\"card mb-4\">\r\n      <img class=\"card-img-top\" src={post.thum} alt=\"Card image cap\" />\r\n      <div class=\"card-body\">\r\n        <h2 class=\"card-title\">{post.title}</h2>\r\n        <p class=\"card-text\"></p>\r\n        <Link\r\n          href={\"/Blog/post/[id].js\"}\r\n          as={`/Blog/post/${post.postId}?thum=${post.thum}&title=${post.title}&author=${post.author}&date=${post.date}`}\r\n        >\r\n          <a class=\"btn btn-primary\">Read More &rarr;</a>\r\n        </Link>\r\n      </div>\r\n      <div class=\"card-footer text-muted\">\r\n        {post.date}\r\n        <a href=\"#\">{post.author}</a>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default function Home({ latest, home }) {\r\n  console.log(latest, home);\r\n  var ref_ = null;\r\n  return (\r\n    <Master>\r\n      <body>\r\n        <nav class=\"navbar navbar-expand-lg navbar-dark bg-dark fixed-top\">\r\n          <div class=\"container\">\r\n            <a class=\"navbar-brand\" href=\"#\">\r\n              Tech-Inventory\r\n            </a>\r\n            <button\r\n              class=\"navbar-toggler\"\r\n              type=\"button\"\r\n              data-toggle=\"collapse\"\r\n              data-target=\"#navbarResponsive\"\r\n              aria-controls=\"navbarResponsive\"\r\n              aria-expanded=\"false\"\r\n              aria-label=\"Toggle navigation\"\r\n            >\r\n              <span class=\"navbar-toggler-icon\"></span>\r\n            </button>\r\n            <div class=\"collapse navbar-collapse\" id=\"navbarResponsive\">\r\n              <ul class=\"navbar-nav ml-auto\">\r\n                <li class=\"nav-item active\">\r\n                  <a class=\"nav-link\" href=\"#\">\r\n                    Home\r\n                    <span class=\"sr-only\">(current)</span>\r\n                  </a>\r\n                </li>\r\n                <li class=\"nav-item\">\r\n                  <Link href=\"/about\">\r\n                    <a class=\"nav-link\" href=\"#\">\r\n                      About\r\n                    </a>\r\n                  </Link>\r\n                </li>\r\n              </ul>\r\n            </div>\r\n          </div>\r\n        </nav>\r\n\r\n        <div class=\"container\">\r\n          <div class=\"row\">\r\n            <div class=\"col-md-8\">\r\n              <h1\r\n                class=\"my-4 \"\r\n                style={{\r\n                  backgroundColor: \"#a805da\",\r\n                  color: \"white\",\r\n                  padding: \"0.3rem\",\r\n                }}\r\n              >\r\n                Blog Posts\r\n                <small></small>\r\n              </h1>\r\n\r\n              {home&&home.length==0&&\"No result Found!\"}\r\n              {home &&\r\n                home.map((post, index) => <Post key={index} post={post} />)}\r\n\r\n              <ul class=\"pagination justify-content-center mb-4\">\r\n                <li class=\"page-item\">\r\n                  <a class=\"page-link\" href=\"#\">\r\n                    &larr; Older\r\n                  </a>\r\n                </li>\r\n                <li class=\"page-item disabled\">\r\n                  <a class=\"page-link\" href=\"#\">\r\n                    Newer &rarr;\r\n                  </a>\r\n                </li>\r\n              </ul>\r\n            </div>\r\n\r\n            <div class=\"col-md-4\">\r\n            <div class=\"card my-4\">\r\n            <h5 class=\"card-header\">Search</h5>\r\n            <div class=\"card-body\">\r\n              <div class=\"input-group\">\r\n                <input\r\n                  type=\"text\"\r\n                  class=\"form-control\"\r\n                  placeholder=\"Search for...\"\r\n                  ref={ref=>{ref_= ref;}}\r\n                />\r\n                <span class=\"input-group-append\">\r\n                  <button onClick={\r\n                    e=>{\r\n                       if(ref_&&ref_.value){\r\n                          window.location.assign(`/search/${ref_.value}`);\r\n                       }\r\n                    }\r\n                  } type =\"submit\" class=\"btn btn-secondary\">Search</button>\r\n                </span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n              <div class=\"card my-4\">\r\n                <h5 class=\"card-header\">Latest</h5>\r\n                <div class=\"card-body\">\r\n                  <div class=\"row\">\r\n                    <div class=\"col-lg-6\">\r\n                      <ul class=\"list-unstyled mb-0\">\r\n                        {latest &&\r\n                          latest.map((post, index) => {\r\n                            return (\r\n                              <li key={index}>\r\n                              <Link\r\n                              href={\"/Blog/post/[id].js\"}\r\n                              as={`/Blog/post/${post.postId}?thum=${post.thum}&title=${post.title}&author=${post.author}&date=${post.date}`}\r\n                            >\r\n                              <a>{post.title}</a>\r\n                            </Link>\r\n                              </li>\r\n                            );\r\n                          })}\r\n                      </ul>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              <div class=\"card my-4\">\r\n                <h5 class=\"card-header\">Side Widget</h5>\r\n                <div class=\"card-body\">\r\n                  ADS\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <footer class=\"py-5 bg-dark\">\r\n          <div class=\"container\">\r\n            <p class=\"m-0 text-center text-white\">\r\n              Copyright &copy; Your Website 2020\r\n            </p>\r\n          </div>\r\n        </footer>\r\n      </body>\r\n    </Master>\r\n  );\r\n}\r\n\r\nfunction fetcher(url) {\r\n  var data = [];\r\n  const initFetch = new Promise((resolve, reject) => {\r\n    get(url, function (res_) {\r\n      res_.on(\"data\", (chunk) => {\r\n        data.push(chunk);\r\n      });\r\n\r\n      res_.on(\"close\", (_) => {\r\n        console.log(\"closing\");\r\n        var data_Bytes = Buffer.concat(data);\r\n        var data_json = JSON.parse(data_Bytes.toString());\r\n        resolve(data_json);\r\n      });\r\n    });\r\n  });\r\n\r\n  return initFetch;\r\n}\r\n\r\nexport async function getServerSideProps(res) {\r\n\r\n    var {pattern} = res.query;\r\n  const home = await fetcher(\"http://localhost:4000/search/post?pattern=\"+pattern);\r\n  const latest = await fetcher(\"http://localhost:4000/latestPosts\");\r\n  \r\n  if(home&&(home.length!==0)){\r\n    \r\n  return {\r\n    props: {\r\n      latest,\r\n      home,\r\n    }\r\n   };  \r\n}\r\n\r\n  return {\r\n    props: {\r\n      latest,\r\n      home:[],\r\n    },\r\n  };\r\n}\r\n"]},"metadata":{},"sourceType":"module"}