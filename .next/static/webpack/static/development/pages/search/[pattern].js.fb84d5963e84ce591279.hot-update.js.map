{"version":3,"file":"static/webpack/static\\development\\pages\\search\\[pattern].js.fb84d5963e84ce591279.hot-update.js","sources":["webpack:///./pages/search/[pattern].js"],"sourcesContent":["import Link from \"next/link\";\r\nimport Master from \"../../app_components/commonHeader\";\r\nimport { get } from \"http\";\r\n\r\nfunction Post({ post }) {\r\n\r\n   \r\n  \r\n  return (\r\n    <div class=\"card mb-4\">\r\n      <img class=\"card-img-top\" src={post.thum} alt=\"Card image cap\" />\r\n      <div class=\"card-body\">\r\n        <h2 class=\"card-title\">{post.title}</h2>\r\n        <p class=\"card-text\"></p>\r\n        <Link\r\n          href={\"/Blog/post/[id].js\"}\r\n          as={`/Blog/post/${post.postId}?thum=${post.thum}&title=${post.title}&author=${post.author}&date=${post.date}`}\r\n        >\r\n          <a class=\"btn btn-primary\">Read More &rarr;</a>\r\n        </Link>\r\n      </div>\r\n      <div class=\"card-footer text-muted\">\r\n        {post.date}\r\n        <a href=\"#\">{post.author}</a>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default function Home({ latest, home }) {\r\n  console.log(latest, home);\r\n  var ref_ = null;\r\n  return (\r\n    <Master>\r\n      <body>\r\n        <nav class=\"navbar navbar-expand-lg navbar-dark bg-dark fixed-top\">\r\n          <div class=\"container\">\r\n            <a class=\"navbar-brand\" href=\"#\">\r\n              Tech-Inventory\r\n            </a>\r\n            <button\r\n              class=\"navbar-toggler\"\r\n              type=\"button\"\r\n              data-toggle=\"collapse\"\r\n              data-target=\"#navbarResponsive\"\r\n              aria-controls=\"navbarResponsive\"\r\n              aria-expanded=\"false\"\r\n              aria-label=\"Toggle navigation\"\r\n            >\r\n              <span class=\"navbar-toggler-icon\"></span>\r\n            </button>\r\n            <div class=\"collapse navbar-collapse\" id=\"navbarResponsive\">\r\n              <ul class=\"navbar-nav ml-auto\">\r\n                <li class=\"nav-item active\">\r\n                  <a class=\"nav-link\" href=\"#\">\r\n                    Home\r\n                    <span class=\"sr-only\">(current)</span>\r\n                  </a>\r\n                </li>\r\n                <li class=\"nav-item\">\r\n                  <Link href=\"/about\">\r\n                    <a class=\"nav-link\" href=\"#\">\r\n                      About\r\n                    </a>\r\n                  </Link>\r\n                </li>\r\n              </ul>\r\n            </div>\r\n          </div>\r\n        </nav>\r\n\r\n        <div class=\"container\">\r\n          <div class=\"row\">\r\n            <div class=\"col-md-8\">\r\n              <h1\r\n                class=\"my-4 \"\r\n                style={{\r\n                  backgroundColor: \"#a805da\",\r\n                  color: \"white\",\r\n                  padding: \"0.3rem\",\r\n                }}\r\n              >\r\n                Blog Posts\r\n                <small></small>\r\n              </h1>\r\n\r\n              {home&&home.length==0&&\"No result Found!\"}\r\n              {home &&\r\n                home.map((post, index) => <Post key={index} post={post} />)}\r\n\r\n              <ul class=\"pagination justify-content-center mb-4\">\r\n                <li class=\"page-item\">\r\n                  <a class=\"page-link\" href=\"#\">\r\n                    &larr; Older\r\n                  </a>\r\n                </li>\r\n                <li class=\"page-item disabled\">\r\n                  <a class=\"page-link\" href=\"#\">\r\n                    Newer &rarr;\r\n                  </a>\r\n                </li>\r\n              </ul>\r\n            </div>\r\n\r\n            <div class=\"col-md-4\">\r\n            <div class=\"card my-4\">\r\n            <h5 class=\"card-header\">Search</h5>\r\n            <div class=\"card-body\">\r\n              <div class=\"input-group\">\r\n                <input\r\n                  type=\"text\"\r\n                  class=\"form-control\"\r\n                  placeholder=\"Search for...\"\r\n                  ref={ref=>{ref_= ref;}}\r\n                />\r\n                <span class=\"input-group-append\">\r\n                  <button onClick={\r\n                    e=>{\r\n                       if(ref_&&ref_.value){\r\n                          window.location.assign(`/search/${ref_.value}`);\r\n                       }\r\n                    }\r\n                  } type =\"submit\" class=\"btn btn-secondary\">Search</button>\r\n                </span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n              <div class=\"card my-4\">\r\n                <h5 class=\"card-header\">Latest</h5>\r\n                <div class=\"card-body\">\r\n                  <div class=\"row\">\r\n                    <div class=\"col-lg-6\">\r\n                      <ul class=\"list-unstyled mb-0\">\r\n                        {latest &&\r\n                          latest.map((post, index) => {\r\n                            return (\r\n                              <li key={index}>\r\n                              <Link\r\n                              href={\"/Blog/post/[id].js\"}\r\n                              as={`/Blog/post/${post.postId}?thum=${post.thum}&title=${post.title}&author=${post.author}&date=${post.date}`}\r\n                            >\r\n                              <a>{post.title}</a>\r\n                            </Link>\r\n                              </li>\r\n                            );\r\n                          })}\r\n                      </ul>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              <div class=\"card my-4\">\r\n                <h5 class=\"card-header\">Side Widget</h5>\r\n                <div class=\"card-body\">\r\n                  ADS\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <footer class=\"py-5 bg-dark\">\r\n          <div class=\"container\">\r\n            <p class=\"m-0 text-center text-white\">\r\n              Copyright &copy; Your Website 2020\r\n            </p>\r\n          </div>\r\n        </footer>\r\n      </body>\r\n    </Master>\r\n  );\r\n}\r\n\r\nfunction fetcher(url) {\r\n  var data = [];\r\n  const initFetch = new Promise((resolve, reject) => {\r\n    get(url, function (res_) {\r\n      res_.on(\"data\", (chunk) => {\r\n        data.push(chunk);\r\n      });\r\n\r\n      res_.on(\"close\", (_) => {\r\n        console.log(\"closing\");\r\n        var data_Bytes = Buffer.concat(data);\r\n        var data_json = JSON.parse(data_Bytes.toString());\r\n        resolve(data_json);\r\n      });\r\n    });\r\n  });\r\n\r\n  return initFetch;\r\n}\r\n\r\nexport async function getServerSideProps(res) {\r\n\r\n    var {pattern} = res.query;\r\n  const home = await fetcher(\"http://localhost:4000/search/post?pattern=\"+pattern);\r\n  const latest = await fetcher(\"http://localhost:4000/latestPosts\");\r\n  \r\n  if(home&&(home.length!==0)){\r\n    \r\n  return {\r\n    props: {\r\n      latest,\r\n      home,\r\n    }\r\n   };  \r\n}\r\n\r\n  return {\r\n    props: {\r\n      latest,\r\n      home:[],\r\n    },\r\n  };\r\n}\r\n"],"mappings":";;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AAEA;AAAA;AAIA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AAEA;AACA;AAFA;AAIA;AAAA;AAGA;AAAA;AAEA;AAAA;AAIA;AACA;;AACA;AAAA;AAAA;AACA;AACA;AACA;AAGA;AAAA;AACA;AAAA;AACA;AAAA;AAAA;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AAPA;AASA;AAAA;AAEA;AAAA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AAAA;AAEA;AAAA;AAGA;AAAA;AACA;AAAA;AACA;AAAA;AAAA;AAUA;AAAA;AACA;AAAA;AACA;AAAA;AAEA;AACA;AACA;AACA;AACA;AAHA;AAFA;AAcA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AACA;AAAA;AACA;AAAA;AAAA;AAIA;AAAA;AACA;AAAA;AAAA;AAOA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AAEA;AACA;AACA;AACA;AAAA;AAAA;AAJA;AAMA;AAAA;AACA;AAEA;AACA;AACA;AACA;AACA;AAAA;AANA;AAWA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AAGA;AACA;AAAA;AAEA;AACA;AAFA;AAQA;AAOA;AAAA;AACA;AAAA;AACA;AAAA;AAOA;AAAA;AACA;AAAA;AACA;AAAA;AAQA;;;;A","sourceRoot":""}